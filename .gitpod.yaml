# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - before: |
      #Install PlatformIO
      python3 -c "$(curl -fsSL https://raw.githubusercontent.com/platformio/platformio/master/scripts/get-platformio.py)"
      EXPORT PATH=$PATH:/home/gitpod/.platformio/penv/bin
      
      
      #install docker
      apt-get Install -y docker
      echo $DOCKER_TOKEN | docker login -u albertzerok

      #inStall aws cli
      curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
      unzip awscliv2.zip
      sudo ./aws/install

      #Install ESP32-IDF
      #apt-get install -y git wget flex bison gperf python3 python3-pip python3-setuptools cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0
      #mkdir -p ~/esp
      #cd ~/esp
      #git clone --recursive https://github.com/espressif/esp-idf.git
      #cd ~/esp/esp-idf
      #. ./install.sh esp32,esp32s2,esp32s3
      #. ~/esp/esp-idf/export.sh
      #alias build='idf.py build'
  - init: cmake .
